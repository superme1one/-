### 大模型的大小
![](asserts/Pasted%20image%2020250814111742.png)

![](asserts/Pasted%20image%2020250815134524.png)
### 使用低进度进行推理
![](asserts/Pasted%20image%2020250815150225.png)
### 量化推理
![](asserts/Pasted%20image%2020250815150345.png)

- 训练时量化
### 融合算子
![](asserts/Pasted%20image%2020250815152227.png)

### 从MHA到MQA、GOA
![](asserts/Pasted%20image%2020250815152457.png)

- 一组KV大小减少，但是精度低，中间是折中

红色参数指的的kv有多少组

### Flash Attention
![](asserts/Pasted%20image%2020250815152934.png)

attention分块的难点在solf max上，

### 投机采样
![](asserts/Pasted%20image%2020250815154028.png)
小模型处理没有信息量的推理，困难的地方，大模型来介入

### 使用多个芯片进行分布式推理
![](asserts/Pasted%20image%2020250815154637.png)
![](asserts/Pasted%20image%2020250815154734.png)

![](asserts/Pasted%20image%2020250815154831.png)

### 分布式矩阵乘
![](asserts/Pasted%20image%2020250815154934.png)
- 两次矩阵乘的计算，做了一次


### MLP层
![](asserts/Pasted%20image%2020250815155709.png)
up 和 down 两次线性计算，做一次通信就可以

